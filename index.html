<!DOCTYPE html>
<html lang="mn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>QR Code Generator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
    <div class="container mt-5">
        <div class="card shadow-lg p-4">
            <h2 class="text-center text-primary">üìå QR Code “Æ“Ø—Å–≥—ç–≥—á</h2>
            <div class="mt-3">
                <label class="form-label">üåê Site URL:</label>
                <input type="text" id="urlInput" class="form-control" required placeholder="https://example.com">
                <button onclick="generateQR()" class="btn btn-success mt-3 w-100">‚úÖ “Æ“Ø—Å–≥—ç—Ö</button>
            </div>

            <div id="qrResult" class="text-center mt-4" style="display: none;">
                <h5>‚úÖ –¢–∞–Ω—ã QR –∫–æ–¥:</h5>
                <div id="qrcode"></div>
                <a id="downloadLink" href="#" download="qrcode.png" class="btn btn-primary mt-3">‚¨áÔ∏è –¢–∞—Ç–∞—Ö</a>
            </div>

            <p id="error" class="text-danger text-center mt-3" style="display: none;"></p>
        </div>
    </div>

    <script src="https://unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>
    <script>
        const qrCode = new QRCodeStyling({
            width: 300,
            height: 300,
            type: "canvas",
            data: "",
            image: "https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg",
            margin: 10,
            qrOptions: { errorCorrectionLevel: "Q" },
            imageOptions: { hideBackgroundDots: true, imageSize: 0.4, margin: 5 },
            dotsOptions: { type: "rounded", color: "#4267b2" },
            backgroundOptions: { color: "#ffffff" },
            cornersSquareOptions: { type: "extra-rounded", color: "#4267b2" },
            cornersDotOptions: { type: "dot", color: "#4267b2" }
        });

        function generateQR() {
            const url = document.getElementById("urlInput").value;
            const qrResult = document.getElementById("qrResult");
            const error = document.getElementById("error");
            const qrcodeDiv = document.getElementById("qrcode");

            if (!url) {
                error.textContent = "–¢–∞ URL –æ—Ä—É—É–ª–Ω–∞ —É—É!";
                error.style.display = "block";
                qrResult.style.display = "none";
                return;
            }

            error.style.display = "none";
            qrcodeDiv.innerHTML = "";
            qrCode.update({ data: url });
            qrCode.append(qrcodeDiv);

            const downloadLink = document.getElementById("downloadLink");
            qrCode.getRawData("png").then(blob => {
                downloadLink.href = URL.createObjectURL(blob);
                qrResult.style.display = "block";
            }).catch(() => {
                error.textContent = "QR –∫–æ–¥ “Ø“Ø—Å–≥—ç—Ö—ç–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞!";
                error.style.display = "block";
            });
        }
    </script>
</body>
</html>
