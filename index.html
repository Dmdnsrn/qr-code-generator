<!DOCTYPE html>
<html lang="mn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>üî• SUPER SENIOR QR GENERATOR</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<script src="https://unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>
<script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>

<style>

body{
background:#f5f7fb;
}

.card{
border-radius:20px;
}

#qrcode{
padding:25px;
background:white;
border-radius:25px;
display:inline-block;
}

.frame{
padding:25px;
border:8px solid #0d6efd;
border-radius:30px;
display:inline-block;
}

.logo-drop{
border:2px dashed #aaa;
padding:20px;
border-radius:15px;
cursor:pointer;
}

</style>
</head>

<body>

<div class="container mt-5">

<div class="card shadow-lg p-4">

<h2 class="text-center text-primary mb-4">
üî• SUPER SENIOR QR GENERATOR
</h2>

<div class="row">

<!-- LEFT PANEL -->
<div class="col-md-5">

<label>Data / URL</label>
<input id="data"
class="form-control mb-3"
value="https://google.com">

<label>Center Text</label>
<input id="centerText"
class="form-control mb-3"
placeholder="Optional">

<label>QR Size (4K ready)</label>
<input type="range"
min="300"
max="2000"
value="600"
id="size"
class="form-range">

<label>Gradient</label>
<input type="color" id="c1" value="#0d6efd">
<input type="color" id="c2" value="#6610f2">

<hr>

<h5>Social Presets</h5>

<div class="d-grid gap-2 mb-3">

<button class="btn btn-outline-primary"
onclick="preset('https://facebook.com/')">
Facebook
</button>

<button class="btn btn-outline-dark"
onclick="preset('https://instagram.com/')">
Instagram
</button>

<button class="btn btn-outline-success"
onclick="preset('https://wa.me/')">
WhatsApp
</button>

</div>

<hr>

<h5>Drag Logo</h5>

<div class="logo-drop"
id="drop">
Drop logo here
</div>

<hr>

<h5>Frame</h5>

<select id="frameColor"
class="form-select mb-3">
<option value="#0d6efd">Blue</option>
<option value="#000">Black</option>
<option value="#ff0000">Red</option>
</select>

<button class="btn btn-success w-100 mb-3"
onclick="downloadQR()">
‚¨áÔ∏è Download QR
</button>

<hr>

<h5>Batch Generate</h5>

<input type="file"
id="excel"
accept=".xlsx"
class="form-control mb-2">

<button class="btn btn-danger w-100"
onclick="batchGenerate()">
Generate 1000 QR ZIP
</button>

</div>


<!-- RIGHT -->
<div class="col-md-7 text-center">

<div id="frame" class="frame">
<div id="qrcode"></div>
</div>

</div>

</div>
</div>
</div>


<script>

let qr;
let logoImage=null;

function buildQR(){

const size=parseInt(
document.getElementById("size").value
);

const config={

width:size,
height:size,
type:"png",
data:data.value,

dotsOptions:{
type:"rounded",
gradient:{
type:"linear",
rotation:Math.PI/4,
colorStops:[
{offset:0,color:c1.value},
{offset:1,color:c2.value}
]
}
},

backgroundOptions:{
color:"#ffffff"
},

image:logoImage,

imageOptions:{
imageSize:.3
},

qrOptions:{
errorCorrectionLevel:"H"
}

};

qr=new QRCodeStyling(config);

qrcode.innerHTML="";
qr.append(qrcode);

document.getElementById("frame")
.style.borderColor=
frameColor.value;

addCenterText();
}

function addCenterText(){

const txt=centerText.value;

if(!txt) return;

const el=document.createElement("div");

el.innerText=txt;

el.style.position="absolute";
el.style.left="50%";
el.style.top="50%";
el.style.transform="translate(-50%,-50%)";
el.style.fontWeight="bold";
el.style.fontSize="28px";

qrcode.style.position="relative";

qrcode.appendChild(el);
}

function preset(url){
data.value=url;
buildQR();
}

data.oninput=buildQR;
size.oninput=buildQR;
c1.onchange=buildQR;
c2.onchange=buildQR;
centerText.oninput=buildQR;
frameColor.onchange=buildQR;


/// DRAG LOGO

drop.ondragover=e=>{
e.preventDefault();
};

drop.ondrop=e=>{

e.preventDefault();

const file=e.dataTransfer.files[0];

const reader=new FileReader();

reader.onload=x=>{

logoImage=x.target.result;
buildQR();
};

reader.readAsDataURL(file);
};


/// DOWNLOAD

function downloadQR(){

qr.getRawData("png")
.then(blob=>{

const a=document.createElement("a");

a.href=URL.createObjectURL(blob);
a.download="super_qr.png";
a.click();

});

}


/// BATCH EXCEL ‚Üí QR

async function batchGenerate(){

const file=excel.files[0];

if(!file){
alert("Excel –æ—Ä—É—É–ª!");
return;
}

const dataBuffer=await file.arrayBuffer();

const workbook=
XLSX.read(dataBuffer);

const sheet=
workbook.Sheets[
workbook.SheetNames[0]
];

const rows=
XLSX.utils.sheet_to_json(sheet);

for(let i=0;i<rows.length;i++){

const tempQR=new QRCodeStyling({

width:1000,
height:1000,
data:Object.values(rows[i])[0]

});

const blob=
await tempQR.getRawData("png");

const a=
document.createElement("a");

a.href=
URL.createObjectURL(blob);

a.download=
`qr_${i+1}.png`;

a.click();

}

alert("DONE ‚úÖ");

}


/// üî• Animated Gradient

setInterval(()=>{

const t=Date.now()/1000;

c1.value=
`hsl(${t*40%360},100%,50%)`;

c2.value=
`hsl(${(t*40+180)%360},100%,50%)`;

buildQR();

},3000);


buildQR();

</script>

</body>
</html>
