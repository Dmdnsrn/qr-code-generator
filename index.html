<!DOCTYPE html>
<html lang="mn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>QR Code Generator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
    <div class="container mt-5">
        <div class="card shadow-lg p-4">
            <h2 class="text-center text-primary">üìå QR Code “Æ“Ø—Å–≥—ç–≥—á</h2>
            <div class="mt-3">
                <label class="form-label">üìã QR –∫–æ–¥—ã–Ω —Ç”©—Ä”©–ª:</label>
                <select id="qrType" class="form-control" onchange="toggleFields()">
                    <option value="website">Website</option>
                    <option value="pdf">PDF</option>
                    <option value="wifi">WiFi</option>
                </select>

                <!-- Website —Ç–∞–ª–±–∞—Ä -->
                <div id="websiteFields" class="mt-2">
                    <label class="form-label">üåê Website URL:</label>
                    <input type="text" id="websiteInput" class="form-control" placeholder="https://example.com">
                </div>

                <!-- PDF —Ç–∞–ª–±–∞—Ä -->
                <div id="pdfFields" class="mt-2" style="display: none;">
                    <label class="form-label">üìÑ PDF URL:</label>
                    <input type="text" id="pdfInput" class="form-control" placeholder="https://example.com/file.pdf">
                </div>

                <!-- WiFi —Ç–∞–ª–±–∞—Ä—É—É–¥ -->
                <div id="wifiFields" class="mt-2" style="display: none;">
                    <label class="form-label">üåê –°“Ø–ª–∂—ç—ç–Ω–∏–π –Ω—ç—Ä (SSID):</label>
                    <input type="text" id="ssidInput" class="form-control" placeholder="–ñ–∏—à—ç—ç: MyWiFi">
                    <label class="form-label mt-2">üîí –•–∞–º–≥–∞–∞–ª–∞–ª—Ç—ã–Ω —Ç”©—Ä”©–ª:</label>
                    <select id="securityInput" class="form-control">
                        <option value="WPA">WPA/WPA2</option>
                        <option value="WEP">WEP</option>
                        <option value="nopass">–ù—É—É—Ü “Ø–≥–≥“Ø–π</option>
                    </select>
                    <label class="form-label mt-2">üîë –ù—É—É—Ü “Ø–≥:</label>
                    <input type="text" id="passwordInput" class="form-control" placeholder="–ù—É—É—Ü “Ø–≥ (—Ö—ç—Ä–≤—ç—ç –±–∞–π–≥–∞–∞ –±–æ–ª)">
                </div>

                <button onclick="generateQR()" class="btn btn-success mt-3 w-100">‚úÖ “Æ“Ø—Å–≥—ç—Ö</button>
            </div>

            <div id="qrResult" class="text-center mt-4" style="display: none;">
                <h5>‚úÖ –¢–∞–Ω—ã QR –∫–æ–¥:</h5>
                <div id="qrcode"></div>
                <a id="downloadLink" href="#" download="qr_code.png" class="btn btn-primary mt-3">‚¨áÔ∏è –¢–∞—Ç–∞—Ö</a>
            </div>

            <p id="error" class="text-danger text-center mt-3" style="display: none;"></p>
        </div>
    </div>

    <script src="https://unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>
    <script>
        const qrCode = new QRCodeStyling({
            width: 300,
            height: 300,
            type: "canvas",
            margin: 10,
            qrOptions: { errorCorrectionLevel: "Q" },
            imageOptions: { hideBackgroundDots: true, imageSize: 0.4, margin: 5 },
            dotsOptions: { type: "rounded", color: "#4267b2" },
            backgroundOptions: { color: "#ffffff" },
            cornersSquareOptions: { type: "extra-rounded", color: "#4267b2" },
            cornersDotOptions: { type: "dot", color: "#4267b2" }
        });

        function toggleFields() {
            const qrType = document.getElementById("qrType").value;
            document.getElementById("websiteFields").style.display = qrType === "website" ? "block" : "none";
            document.getElementById("pdfFields").style.display = qrType === "pdf" ? "block" : "none";
            document.getElementById("wifiFields").style.display = qrType === "wifi" ? "block" : "none";
        }

        function generateQR() {
            const qrType = document.getElementById("qrType").value;
            const qrResult = document.getElementById("qrResult");
            const error = document.getElementById("error");
            const qrcodeDiv = document.getElementById("qrcode");
            let qrData = "";

            // –¢”©—Ä–ª”©”©—Å —Ö–∞–º–∞–∞—Ä—á QR –∫–æ–¥—ã–Ω ”©–≥”©–≥–¥–ª–∏–π–≥ –±—ç–ª—Ç–≥—ç—Ö
            if (qrType === "website") {
                qrData = document.getElementById("websiteInput").value;
                if (!qrData) {
                    error.textContent = "Website URL –æ—Ä—É—É–ª–Ω–∞ —É—É!";
                    error.style.display = "block";
                    qrResult.style.display = "none";
                    return;
                }
            } else if (qrType === "pdf") {
                qrData = document.getElementById("pdfInput").value;
                if (!qrData) {
                    error.textContent = "PDF URL –æ—Ä—É—É–ª–Ω–∞ —É—É!";
                    error.style.display = "block";
                    qrResult.style.display = "none";
                    return;
                }
            } else if (qrType === "wifi") {
                const ssid = document.getElementById("ssidInput").value;
                const security = document.getElementById("securityInput").value;
                const password = document.getElementById("passwordInput").value;
                if (!ssid) {
                    error.textContent = "–°“Ø–ª–∂—ç—ç–Ω–∏–π –Ω—ç—Ä –æ—Ä—É—É–ª–Ω–∞ —É—É!";
                    error.style.display = "block";
                    qrResult.style.display = "none";
                    return;
                }
                qrData = `WIFI:S:${ssid};T:${security};P:${password};;`;
            }

            // –ê–ª–¥–∞–∞–≥ –Ω—É—É—Ö
            error.style.display = "none";
            qrcodeDiv.innerHTML = "";

            // QR –∫–æ–¥ “Ø“Ø—Å–≥—ç—Ö
            qrCode.update({ data: qrData });
            qrCode.append(qrcodeDiv);

            // –¢–∞—Ç–∞—Ö —Ö–æ–ª–±–æ–æ—Å
            const downloadLink = document.getElementById("downloadLink");
            qrCode.getRawData("png").then(blob => {
                downloadLink.href = URL.createObjectURL(blob);
                qrResult.style.display = "block";
            }).catch(() => {
                error.textContent = "QR –∫–æ–¥ “Ø“Ø—Å–≥—ç—Ö—ç–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞!";
                error.style.display = "block";
            });
        }

        // –≠—Ö–Ω–∏–π —É–¥–∞–∞–¥ —Ç–∞–ª–±–∞—Ä—É—É–¥—ã–≥ —Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö
        toggleFields();
    </script>
</body>
</html>
