<!DOCTYPE html>
<html lang="mn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Senior QR Generator</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
  transition:.3s;
}

.dark-mode{
  background:#121212 !important;
  color:#eee;
}

.card{
  border-radius:18px;
}

#qrcode canvas,
#qrcode svg{
  border-radius:20px;
  box-shadow:0 0 20px rgba(0,0,0,.1);
}

.toggle-btn{
  position:fixed;
  top:20px;
  right:20px;
}
</style>
</head>

<body class="bg-light">

<button class="btn btn-secondary toggle-btn"
onclick="toggleTheme()">üåô / ‚òÄÔ∏è</button>

<div class="container mt-5">
<div class="card shadow-lg p-4">

<h2 class="text-center text-primary mb-4">
üöÄ Senior QR Code Generator
</h2>

<div class="row g-4">

<!-- LEFT -->
<div class="col-md-6">

<label class="form-label">QR —Ç”©—Ä”©–ª</label>
<select id="qrType" class="form-select"
onchange="toggleFields();generateQR();">
<option value="website">Website</option>
<option value="pdf">PDF</option>
<option value="wifi">WiFi</option>
</select>

<div id="websiteFields" class="mt-3">
<input id="websiteInput"
class="form-control"
placeholder="https://example.com"
oninput="generateQR()">
</div>

<div id="pdfFields" class="mt-3" style="display:none;">
<input id="pdfInput"
class="form-control"
placeholder="https://example.com/file.pdf"
oninput="generateQR()">
</div>

<div id="wifiFields" class="mt-3" style="display:none;">
<input id="ssidInput"
class="form-control mb-2"
placeholder="WiFi –Ω—ç—Ä"
oninput="generateQR()">

<select id="securityInput"
class="form-select mb-2"
onchange="generateQR()">
<option value="WPA">WPA/WPA2</option>
<option value="WEP">WEP</option>
<option value="nopass">–ù—É—É—Ü “Ø–≥–≥“Ø–π</option>
</select>

<input id="passwordInput"
class="form-control"
placeholder="Password"
oninput="generateQR()">
</div>

<hr>

<label class="form-label">Gradient —ç—Ö–ª—ç–ª</label>
<input type="color" id="grad1"
value="#0d6efd"
onchange="generateQR()">

<label class="form-label mt-2">Gradient —Ç”©–≥—Å–≥”©–ª</label>
<input type="color" id="grad2"
value="#6610f2"
onchange="generateQR()">

<label class="form-label mt-3">
Background ”©–Ω–≥”©
</label>
<input type="color"
id="bgColor"
value="#ffffff"
onchange="generateQR()">

<div class="form-check mt-2">
<input type="checkbox"
class="form-check-input"
id="transparent"
onchange="generateQR()">
<label class="form-check-label">
Transparent background
</label>
</div>

<label class="form-label mt-3">
QR —Ö—ç–º–∂—ç—ç
</label>
<input type="range"
min="200"
max="500"
value="300"
id="size"
class="form-range"
oninput="generateQR()">

<label class="form-label">
Logo
</label>
<input type="file"
id="logo"
accept="image/*"
class="form-control"
onchange="generateQR()">

<label class="form-label mt-2">
Logo size
</label>
<input type="range"
min="0.2"
max="0.5"
step="0.05"
value="0.35"
id="logoSize"
class="form-range"
oninput="generateQR()">

<label class="form-label mt-3">
Download —Ç”©—Ä”©–ª
</label>
<select id="fileType"
class="form-select">
<option value="png">PNG</option>
<option value="svg">
SVG (print)
</option>
</select>

</div>


<!-- RIGHT -->
<div class="col-md-6 text-center">

<div id="qrcode"></div>

<a id="download"
class="btn btn-primary mt-3"
download="qr_code.png">
‚¨áÔ∏è Download
</a>

<p id="error"
class="text-danger mt-3"></p>

</div>

</div>
</div>
</div>


<script src="https://unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>

<script>

let qr;

function toggleTheme(){
document.body.classList.toggle("dark-mode");
}

function toggleFields(){

const t=document.getElementById("qrType").value;

websiteFields.style.display=
t==="website"?"block":"none";

pdfFields.style.display=
t==="pdf"?"block":"none";

wifiFields.style.display=
t==="wifi"?"block":"none";
}

function getData(){

const t=qrType.value;

if(t==="website") return websiteInput.value;
if(t==="pdf") return pdfInput.value;

if(t==="wifi"){

if(!ssidInput.value) return "";

return `WIFI:S:${ssidInput.value};T:${securityInput.value};P:${passwordInput.value};;`;
}

}

function generateQR(){

const data=getData();

if(!data){
error.innerText="–ú—ç–¥—ç—ç–ª—ç–ª –æ—Ä—É—É–ª–Ω–∞ —É—É!";
return;
}

error.innerText="";

const size=parseInt(size.value);
const logoFile=logo.files[0];

const config={

width:size,
height:size,
type:"svg",
data:data,
margin:10,

qrOptions:{
errorCorrectionLevel:"H"
},

dotsOptions:{
type:"rounded",
gradient:{
type:"linear",
rotation:Math.PI/4,
colorStops:[
{offset:0,color:grad1.value},
{offset:1,color:grad2.value}
]
}
},

backgroundOptions:{
color:transparent.checked
?"transparent"
:bgColor.value
},

imageOptions:{
hideBackgroundDots:true,
imageSize:parseFloat(logoSize.value),
margin:6
},

cornersSquareOptions:{
type:"extra-rounded",
color:grad1.value
},

cornersDotOptions:{
type:"dot",
color:grad2.value
}

};

if(qr) qr._canvas?.remove();

function build(img){

if(img) config.image=img;

qr=new QRCodeStyling(config);

qrcode.innerHTML="";
qr.append(qrcode);

const file=fileType.value;

qr.getRawData(file)
.then(blob=>{

download.href=
URL.createObjectURL(blob);

download.download=
`qr_code.${file}`;

});
}

if(logoFile){

const reader=new FileReader();

reader.onload=e=>build(e.target.result);

reader.readAsDataURL(logoFile);

}else build();

}

toggleFields();

</script>
</body>
</html>
